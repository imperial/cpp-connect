model CompanyProfile {
  id            Int           @id @default(autoincrement())
  name          String        @unique
  summary       String        @default("")
  sector        String
  logo          String        @default("")
  website       String
  size          String?
  hq            String?
  email         String?
  phone         String?
  founded       String?
  opportunities Opportunity[]
  events        Event[]
  companyUsers  User[]
}

enum OpportunityType {
  Internship
  Placement
  Graduate
}

model Opportunity {
  id        Int            @id @default(autoincrement())
  company   CompanyProfile @relation(fields: [companyID], references: [id])
  companyID Int
  position  String
  location  String
  available Boolean
  type      OpportunityType
  createdAt DateTime       @default(now())
  // TODO: Add Link
}

model Event {
  id        Int            @id @default(autoincrement())
  company   CompanyProfile @relation(fields: [companyID], references: [id])
  companyID Int
  title     String
  dateStart DateTime
  dateEnd   DateTime?

  shortDescription String
  richSummary  String
  // No. spaces available at the event
  spaces   Int
  location String
  // Singular outbound link to the event
  link     String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}
